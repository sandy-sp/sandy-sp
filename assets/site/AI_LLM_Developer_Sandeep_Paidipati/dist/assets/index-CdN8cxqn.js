(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const w of a.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&d(w)}).observe(document,{childList:!0,subtree:!0});function o(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(e){if(e.ep)return;e.ep=!0;const a=o(e);fetch(e.href,a)}})();let m,s,u,h,l={x:0,y:0};new THREE.Raycaster;new THREE.Vector2;m=new THREE.Scene;m.fog=new THREE.Fog(0,50,300);s=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);s.position.z=150;u=new THREE.WebGLRenderer({antialias:!0});u.setSize(window.innerWidth,window.innerHeight);u.setClearColor(0);document.getElementById("threejs-background").appendChild(u.domElement);const f=2028,y=100,g=new THREE.BoxGeometry(1.5,1.5,1.5),T=new THREE.MeshBasicMaterial({color:993333,transparent:!0,opacity:.8});h=new THREE.InstancedMesh(g,T,f);const t=Math.cbrt(f),i=y/t,p=new THREE.Object3D;let H=0;for(let r=0;r<t;r++)for(let n=0;n<t;n++)for(let o=0;o<t;o++)p.position.set((r-t/2)*i,(n-t/2)*i,(o-t/2)*i),p.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),p.updateMatrix(),h.setMatrixAt(H++,p.matrix);m.add(h);const c=new THREE.Shape;c.moveTo(0,0);c.lineTo(.2,.5);c.lineTo(-.1,.5);c.lineTo(.1,1);c.lineTo(-.2,.5);c.lineTo(0,0);const R=new THREE.ShapeGeometry(c),x=new THREE.MeshBasicMaterial({color:16711680,side:THREE.DoubleSide}),E=new THREE.Group,P=5e3;for(let r=0;r<P;r++){const n=new THREE.Mesh(R,x),o=new THREE.Vector3((Math.random()-.5)*t*i,(Math.random()-.5)*t*i,(Math.random()-.5)*t*i);n.position.copy(o);const d=Math.random()*.5+.1;n.scale.set(d,d,d),n.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI),n.userData={target:new THREE.Vector3((Math.random()-.5)*t*i,(Math.random()-.5)*t*i,(Math.random()-.5)*t*i),speed:.05},E.add(n)}h.add(E);window.addEventListener("mousemove",r=>{l.x=r.clientX/window.innerWidth-.5,l.y=r.clientY/window.innerHeight-.5});window.addEventListener("resize",()=>{s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)});function M(){requestAnimationFrame(M);const r=l.x*20,n=l.y*20;s.position.x+=(r-s.position.x)*.05,s.position.y+=(n-s.position.y)*.05,s.lookAt(m.position),h.rotation.x+=.001+l.y*.01,h.rotation.y+=.001+l.x*.01,E.children.forEach(o=>{const d=o.userData.target,e=o.userData.speed;o.position.lerp(d,e),o.position.distanceTo(d)<1&&o.userData.target.set((Math.random()-.5)*t*i,(Math.random()-.5)*t*i,(Math.random()-.5)*t*i)}),u.render(m,s)}M();
